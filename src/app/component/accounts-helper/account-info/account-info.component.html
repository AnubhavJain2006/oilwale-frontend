<p class="lead" *ngIf="dataLoadingStatus || currentUserdatailLoading">Loading ...</p>
<div *ngIf="!dataLoadingStatus && !currentUserdatailLoading">
    <div class="d-flex flex-wrap py-3">
        <h3 class="h3">
            <a routerLink="/accounts" class="text-decoration-none text-dark">
                <i class="fas fa-user-circle"></i> Accounts 
            </a>
            <i class="fas fa-angle-right"></i> {{ adminDetails.name }}
        </h3>
    </div>

    <div class="w-100 text-center py-2">
        <img class="img-thumbnail mr-1" src="/assets/img/user.png" alt="User" width="180px"><br>
        <p class="lead fw-bold pb-0 mb-0">{{adminDetails.name}}</p>
    </div>

    <div class="row my-3">
        <div class="col-lg-6">
            <div class="p-md-3">
                <p class="fw-bold">ADMIN INFORMATION</p>
                <table class="table table-hover table-bordered p-md-3">
                    <tbody>
                        <tr>
                            <td class="p-3">Admin Name</td>
                            <td class="p-3">{{ adminDetails.name }}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Email</td>
                            <td class="p-3">{{ adminDetails.email }}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Privilege</td>
                            <td class="p-3">
                                <span *ngIf="adminDetails.privilege == 'moderator' " class="badge bg-primary">Moderator</span> 
                                <span *ngIf="adminDetails.privilege == 'admin' " class="badge bg-secondary"> Admin</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="p-3">Phone number</td>
                            <td class="p-3">{{ adminDetails.phoneNumber }}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Alternate phone </td>
                            <td class="p-3">{{ adminDetails.alternateNumber }}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Address</td>
                            <td class="p-3">{{ adminDetails.address }}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Pincode</td>
                            <td class="p-3">{{ adminDetails.pincode }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="p-md-3">
                <p class="fw-bold">ADMIN DATA</p>
                <table class="table table-hover table-bordered p-md-3">
                    <tbody>
                        <tr>
                            <td class="p-3">Admin id</td>
                            <td class="p-3"> {{ adminDetails.adminId }}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Added on</td>
                            <td class="p-3"> {{ adminDetails.createdAt | date:"medium"}}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Last updated</td>
                            <td class="p-3"> {{ adminDetails.updateAt | date:"medium"}}</td>
                        </tr>
                        <tr>
                            <td class="p-3">Status</td>
                            <td class="p-3">
                                <span *ngIf="adminDetails.active == true" class="badge bg-success">Active</span> 
                                <span *ngIf="adminDetails.active == false" class="badge bg-danger">Deactivated</span> 

                            </td>
                    </tbody>
                </table>
            </div>
            <div *ngIf="!currentUserdatailLoading">
                <div class="p-md-3" *ngIf="(adminDetails.adminId == currentUser.adminId) || (this.currentUser.privilege == 'admin' && this.adminDetails.privilege == 'moderator')">
                    <p class="fw-bold text-danger">ACTION ZONE!</p>
                    <table class="table table-hover table-bordered p-md-3">
                        <tbody>
                            <tr>
                                <td class="p-3">Update info</td>
                                <td class="p-3"> <a routerLink="/accounts/{{ adminDetails.adminId }}/edit" class="btn text-decoration-none text-dark">Update</a></td>
                            </tr>
                            <tr *ngIf="adminDetails.active && (this.currentUser.privilege == 'admin' && this.adminDetails.privilege == 'moderator')">
                                <td class="p-3">Deactivate Account</td>
                                <td class="p-3">
                                    <button  class="btn link-danger" [disabled]="deleteAccountLoadingFlag" (click)="deleteUser(adminDetails)">
                                        <div *ngIf="deleteAccountLoadingFlag">
                                            <div class="spinner-border spinner-border-sm" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                              </div>
                                              Deactivating account
                                        </div>
                                        <div *ngIf="!deleteAccountLoadingFlag">
                                            Deactivate Account
                                        </div>
                                    </button>
                                </td>
                            </tr>
                            <tr *ngIf="!adminDetails.active && (this.currentUser.privilege == 'admin' && this.adminDetails.privilege == 'moderator')">
                                <td class="p-3">Enable Account</td>
                                <td class="p-3">
                                    <button href="#" class="btn link-success" [disabled]="restoreAccountLoadingFlag" (click)="restoreUser(adminDetails)">
                                        <div *ngIf="restoreAccountLoadingFlag">
                                            <div class="spinner-border spinner-border-sm" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                              </div>
                                              Restoring account
                                        </div>
                                        <div *ngIf="!restoreAccountLoadingFlag">
                                            Enable Account
                                        </div>
                                    </button>
                                </td>
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
